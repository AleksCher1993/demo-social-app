"use strict";(self.webpackChunksocial_app=self.webpackChunksocial_app||[]).push([[921],{8921:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var o=n(2791),l=n(4420);const i="People_peopleList__KtrZK",s="People_item__SFDOb",a="People_homosImg__ALAPy",r="People_homosImgBody__MrjkR",c="People_fullName__lSMrY",p="People_placeOfPozition__Zcd6A",u="People_friendsNumber__ZVVLq",d="People_homosFriends__LhmuY",f="People_homosFriendsText__qouvM",g="People_follow__kfgRZ";var m=n(47),h=n(4955),v=n(1087);const y={paginationConteiner:"Paginator_paginationConteiner__CAdiZ",paginationNumber:"Paginator_paginationNumber__yXdQx",paginationHover:"Paginator_paginationHover__e+Cfv",divEmpty:"Paginator_divEmpty__6DpDL",paginControl:"Paginator_paginControl__PhbrP"};var b=n(184);const C=e=>{let{peopleCount:t,totalCount:n,numberPage:l,onPaginationClick:i,portionSize:s=10,...a}=e,r=[],c=Math.ceil(n/t),[p,u]=(0,o.useState)(1),d=Math.ceil(c/s),f=(p-1)*s+1,g=p*s;(0,o.useEffect)((()=>u(Math.ceil(l/s))),[l,s]);for(let o=1;o<=c;o++)r.push(o);return(0,b.jsxs)("div",{className:y.paginationConteiner,children:[p>1?(0,b.jsx)("button",{className:"".concat(y.paginControl," ").concat(y.prev),onClick:()=>u(p-1),children:"prev"}):(0,b.jsx)("div",{className:y.divEmpty}),(0,b.jsx)("div",{className:y.paginationNumber,children:r.filter((e=>e>=f&&e<=g)).map((e=>(0,b.jsxs)("span",{onClick:()=>i(e),className:l===e?y.paginationHover:"",children:[" ",e," "]},e)))}),d>s&&(0,b.jsx)("button",{className:"".concat(y.paginControl," ").concat(y.next),onClick:()=>u(p+1),children:"next"})]})},_=e=>(0,b.jsxs)("div",{children:[(0,b.jsx)(C,{peopleCount:e.peopleCount,totalCount:e.totalCount,numberPage:e.numberPage,onPaginationClick:e.onPaginationClick}),e.isFetching?(0,b.jsx)(h.Z,{}):(0,b.jsx)("div",{className:i,children:e.people.map((t=>(0,b.jsxs)("div",{className:s,children:[(0,b.jsx)(v.OL,{to:"/profile/".concat(t.id),className:a,children:(0,b.jsx)("div",{className:r,children:(0,b.jsx)("img",{src:t.photos.small?t.photos.small:m,alt:""})})}),(0,b.jsxs)("p",{className:c,children:[(0,b.jsx)("span",{children:t.name}),(0,b.jsx)("span",{children:t.surname})]}),(0,b.jsxs)("p",{className:p,children:[(0,b.jsx)("span",{children:t.country}),(0,b.jsx)("span",{children:t.sityname})]}),(0,b.jsxs)("div",{className:u,children:[(0,b.jsx)("p",{className:d,children:t.friends}),(0,b.jsx)("p",{className:f,children:"Friends"})]}),t.followed?(0,b.jsx)("button",{disabled:e.disabledFollowsWhenFetshing.some((e=>e===t.id)),onClick:()=>{e.unfollow(t.id)},className:g,children:"Unfollow"}):(0,b.jsx)("button",{disabled:e.disabledFollowsWhenFetshing.some((e=>e===t.id)),onClick:()=>e.follow(t.id),className:g,children:"Follow"})]},t.id)))})]});var P=n(9343),j=n(1548),w=n(1154);function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var F=e=>Array.isArray(e)?e:[e];function k(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var N="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},O=0,M=1;function R(){return{s:O,v:void 0,o:null,p:null}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=R();const{resultEqualityCheck:o}=t;let l,i=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const o=e.get(n);void 0===o?(t=R(),e.set(n,t)):t=o}else{let e=t.p;null===e&&(t.p=e=new Map);const o=e.get(n);void 0===o?(t=R(),e.set(n,t)):t=o}}const a=t;let r;if(t.s===M?r=t.v:(r=e.apply(null,arguments),i++),a.s=M,o){var c,p,u;const e=null!==(c=null===(p=l)||void 0===p||null===(u=p.deref)||void 0===u?void 0:u.call(p))&&void 0!==c?c:l;null!=e&&o(e,r)&&(r=e,0!==i&&i--);l="object"===typeof r&&null!==r||"function"===typeof r?new N(r):r}return a.v=r,r}return s.clearCache=()=>{n=R(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const l="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let o,i=0,s=0,a={},r=t.pop();"object"===typeof r&&(a=r,r=t.pop()),x(r,"createSelector expects an output function after the inputs, but received: [".concat(typeof r,"]"));const c={...l,...a},{memoize:p,memoizeOptions:u=[],argsMemoize:d=z,argsMemoizeOptions:f=[],devModeChecks:g={}}=c,m=F(u),h=F(f),v=k(t),y=p((function(){return i++,r.apply(null,arguments)}),...m);const b=d((function(){s++;const e=function(e,t){const n=[],{length:o}=e;for(let l=0;l<o;l++)n.push(e[l].apply(null,t));return n}(v,arguments);return o=y.apply(null,e),o}),...h);return Object.assign(b,{resultFunc:r,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:d})};return Object.assign(i,{withTypes:()=>i}),i}var E=A(z),S=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),o=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(((e,t,o)=>(e[n[o]]=t,e)),{})}));return o}),{withTypes:()=>S});const W=e=>e.peoplePage.numberPage,L=e=>e.peoplePage.peopleCount,T=e=>e.peoplePage.totalCount,Z=e=>e.peoplePage.isFetching,D=E((e=>e.peoplePage.people),(e=>e.filter((e=>!0)))),U=(E(W,(e=>e.filter((e=>!0)))),E(L,(e=>e.filter((e=>!0)))),E(T,(e=>e.filter((e=>!0)))),E(Z,(e=>e.filter((e=>!0)))),E((e=>e.peoplePage.disabledFollowsWhenFetshing),(e=>e.filter((e=>!0))))),q=o.memo((e=>{(0,o.useEffect)((()=>{e.getUsers(e.peopleCount,e.numberPage)}),[e.peopleCount,e.numberPage]);return(0,b.jsx)(_,{totalCount:e.totalCount,peopleCount:e.peopleCount,onPaginationClick:t=>{e.getOnPaginationClick(e.peopleCount,t)},numberPage:e.numberPage,people:e.people,follow:t=>{e.getFollow(t)},unfollow:t=>{e.getUnFollow(t)},isFetching:e.isFetching,disabledFollowsWhenFetshing:e.disabledFollowsWhenFetshing})})),H=(0,w.qC)((0,l.$j)((e=>({people:D(e),numberPage:W(e),peopleCount:L(e),totalCount:T(e),isFetching:Z(e),disabledFollowsWhenFetshing:U(e)})),{getUsers:P.Rf,getOnPaginationClick:P.vb,getFollow:P.gO,getUnFollow:P.gC}),j.D)(q)}}]);
//# sourceMappingURL=921.6f3f225b.chunk.js.map