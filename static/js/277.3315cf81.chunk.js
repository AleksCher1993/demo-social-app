"use strict";(self.webpackChunksocial_app=self.webpackChunksocial_app||[]).push([[277],{7277:(s,e,a)=>{a.r(e),a.d(e,{default:()=>F});var t=a(2791),i=a(3115);const c="Message_container__C7uaA",o="Message_body__VqTiJ",l="Message_contacts_list__ETpRc",n="Message_pustoyContact__eWtBp",r="Message_pustoyMessage__sIw1N",d="Message_dialog_list__mef03",_="Message_send_body__XRI-Y",m="Message_textarea__FNK-L",g="ContactItem_contacts_item__ak1kQ",p="ContactItem_contacts_img__y6H9P",h="ContactItem_contacts_content__x047T",u="ContactItem_contacts_name__EnTdP",x="ContactItem_contacts_shortDescription__oVYbx",j="ContactItem_active__2Y3SP";var v=a(47),N=a(184);const f=s=>{let{id:e,src:a,name:t,shortdesctiption:i,setUserInfo:c,isActive:o}=s;return(0,N.jsxs)("div",{className:o===e?g+" "+j:g,onClick:()=>c(e,a),children:[(0,N.jsx)("div",{className:p,children:(0,N.jsx)("img",{src:a||v,alt:"ava"})}),(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("p",{className:u,children:t}),(0,N.jsx)("p",{className:x,children:i})]})]})},I="DialogItem_dialog_item__xRhS+",D="DialogItem_dialog_reverce__57DKq",C="DialogItem_dialog_img__Oe5Nw",M="DialogItem_dialog_content__oUi7g",b="DialogItem_dialog_name__nZCPE",y="DialogItem_dialog_mess__4Vy+l",P=s=>{let{src:e,mess:a,name:t,type:i}=s;return(0,N.jsxs)("div",{className:i?"".concat(I," ").concat(D):I,children:[(0,N.jsx)("div",{className:C,children:(0,N.jsx)("img",{src:e||v,alt:""})}),(0,N.jsxs)("div",{className:M,children:[(0,N.jsx)("p",{className:b,children:t}),(0,N.jsx)("p",{className:y,children:a})]})]})};var U=a(2891);const S=s=>{let{profile:e,userPhoto:a,isActive:t,setUserInfo:i,onSubmit:g,curentRef:p,messagesPage:h,addDialog:u,...x}=s;const j=h.contacts&&h.contacts.map((s=>(0,N.jsx)(f,{isActive:t,setUserInfo:i,id:s.id,src:s.photos.small,name:s.userName},s.id))),v=h.dialogs&&h.dialogs.map((s=>{let t;return t=s.senderId===e.userId?(0,N.jsx)(P,{id:s.id,mess:s.body,name:s.name,type:"main",src:e?e.photos.small:null},s.id):(0,N.jsx)(P,{id:s.id,mess:s.body,name:s.name,src:a},s.id),t}));return(0,N.jsxs)("div",{className:c,children:[(0,N.jsxs)("div",{className:o,children:[(0,N.jsx)("div",{className:l,children:h.contacts&&0!==h.contacts.lengts?j:(0,N.jsx)("div",{className:n,children:(0,N.jsx)("p",{children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"})})}),(0,N.jsx)("div",{ref:p,className:d,children:h.dialogs&&0!==h.dialogs.length?v:(0,N.jsx)("div",{className:r,children:(0,N.jsx)("p",{children:"No active dialogues, select dialogue on the left"})})})]}),(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("div",{}),(0,N.jsx)("div",{className:m,children:(0,N.jsx)(U.Z,{addDialog:u,onSubmit:g})})]})]})};var T=a(4420),k=a(1548),A=a(1154);const R=t.memo((s=>{let[e,a]=(0,t.useState)(null),[i,c]=(0,t.useState)(""),o=t.createRef();(0,t.useEffect)((()=>{let e=o.current;s.getDialogUsers(),e.scrollTop=e.scrollHeight}),[]);return(0,N.jsx)(S,{profile:s.profile,userPhoto:i,isActive:e,setUserInfo:(e,t)=>{s.putStartDialogToFriend(e),a(e),c(t)},curentRef:o,onSubmit:a=>{s.postMessageToUser(a.body,e)},...s})}));const F=(0,A.qC)((0,T.$j)((s=>({messagesPage:s.messagesPage,profile:s.profilePage.profile})),{addDialog:i.IC,getDialogUsers:i.A4,postMessageToUser:i.PQ,getMessagesFromUser:i.zn,putStartDialogToFriend:i.FL}),k.D)(R)}}]);
//# sourceMappingURL=277.3315cf81.chunk.js.map