"use strict";(self.webpackChunksocial_app=self.webpackChunksocial_app||[]).push([[277],{7277:(s,e,a)=>{a.r(e),a.d(e,{default:()=>F});var t=a(2791),i=a(3115);const o="Message_container__C7uaA",c="Message_body__VqTiJ",l="Message_contacts_list__ETpRc",n="Message_pustoyContact__eWtBp",r="Message_pustoyMessage__sIw1N",d="Message_dialog_list__mef03",_="Message_send_body__XRI-Y",m="Message_textarea__FNK-L",g="ContactItem_contacts_item__ak1kQ",h="ContactItem_contacts_img__y6H9P",p="ContactItem_contacts_content__x047T",x="ContactItem_contacts_name__EnTdP",u="ContactItem_contacts_shortDescription__oVYbx",j="ContactItem_active__2Y3SP";var v=a(47),N=a(184);const f=s=>{let{id:e,src:a,name:t,shortdesctiption:i,setUserInfo:o,isActive:c}=s;return(0,N.jsxs)("div",{className:c===e?g+" "+j:g,onClick:()=>o(e,a),children:[(0,N.jsx)("div",{className:h,children:(0,N.jsx)("img",{src:a||v,alt:"ava"})}),(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("p",{className:x,children:t}),(0,N.jsx)("p",{className:u,children:i})]})]})},I="DialogItem_dialog_item__xRhS+",D="DialogItem_dialog_reverce__57DKq",P="DialogItem_dialog_img__Oe5Nw",C="DialogItem_dialog_content__oUi7g",M="DialogItem_dialog_name__nZCPE",b="DialogItem_dialog_mess__4Vy+l",y=s=>{let{src:e,mess:a,name:t,type:i}=s;return(0,N.jsxs)("div",{className:i?"".concat(I," ").concat(D):I,children:[(0,N.jsx)("div",{className:P,children:(0,N.jsx)("img",{src:e||v,alt:""})}),(0,N.jsxs)("div",{className:C,children:[(0,N.jsx)("p",{className:M,children:t}),(0,N.jsx)("p",{className:b,children:a})]})]})};var U=a(2891);const S=s=>{let{profilePhoto:e,userPhoto:a,isActive:t,setUserInfo:i,onSubmit:g,curentRef:h,messagesPage:p,addDialog:x,...u}=s;const j=p.contacts&&p.contacts.map((s=>(0,N.jsx)(f,{isActive:t,setUserInfo:i,id:s.id,src:s.photos.small,name:s.userName},s.id))),v=p.dialogs&&p.dialogs.map((s=>{let t;return t=30535===s.senderId?(0,N.jsx)(y,{id:s.id,mess:s.body,name:s.name,type:"main",src:e?e.photos.small:null},s.id):(0,N.jsx)(y,{id:s.id,mess:s.body,name:s.name,src:a},s.id),t}));return(0,N.jsxs)("div",{className:o,children:[(0,N.jsxs)("div",{className:c,children:[(0,N.jsx)("div",{className:l,children:p.contacts&&0!==p.contacts.lengts?j:(0,N.jsx)("div",{className:n,children:(0,N.jsx)("p",{children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"})})}),(0,N.jsx)("div",{ref:h,className:d,children:p.dialogs&&0!==p.dialogs.length?v:(0,N.jsx)("div",{className:r,children:(0,N.jsx)("p",{children:"No active dialogues, select dialogue on the left"})})})]}),(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("div",{}),(0,N.jsx)("div",{className:m,children:(0,N.jsx)(U.Z,{addDialog:x,onSubmit:g})})]})]})};var T=a(4420),k=a(1548),A=a(1154);const R=t.memo((s=>{let[e,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(""),c=t.createRef();(0,t.useEffect)((()=>{let e=c.current;s.getDialogUsers(),e.scrollTop=e.scrollHeight}),[]);return(0,N.jsx)(S,{profilePhoto:s.profilePhoto,userPhoto:i,isActive:e,setUserInfo:(e,t)=>{s.putStartDialogToFriend(e),a(e),o(t)},curentRef:c,onSubmit:a=>{s.postMessageToUser(a.body,e)},...s})}));const F=(0,A.qC)((0,T.$j)((s=>({messagesPage:s.messagesPage,profilePhoto:s.profilePage.profile})),{addDialog:i.IC,getDialogUsers:i.A4,postMessageToUser:i.PQ,getMessagesFromUser:i.zn,putStartDialogToFriend:i.FL}),k.D)(R)}}]);
//# sourceMappingURL=277.f3770ad1.chunk.js.map