"use strict";(self.webpackChunksocial_app=self.webpackChunksocial_app||[]).push([[421],{4552:(s,e,a)=>{a.r(e),a.d(e,{default:()=>E});var t=a(2791),c=a(3115);const i="Message_container__C7uaA",l="Message_body__VqTiJ",n="Message_contacts_list__ETpRc",o="Message_pustoyContact__eWtBp",d="Message_pustoyMessage__sIw1N",_="Message_dialog_list__mef03",r="Message_send_body__XRI-Y",m="Message_textarea__FNK-L",g="ContactItem_contacts_item__ak1kQ",x="ContactItem_contacts_img__y6H9P",p="ContactItem_contacts_content__x047T",j="ContactItem_contacts_name__EnTdP",h="ContactItem_contacts_shortDescription__oVYbx",v="ContactItem_active__2Y3SP";var u=a(47),N=a(184);const I=s=>{let{id:e,src:a,name:t,shortdesctiption:c,setUserId:i,isActive:l}=s;return(0,N.jsxs)("div",{className:l===e?g+" "+v:g,onClick:()=>i(e),children:[(0,N.jsx)("div",{className:x,children:(0,N.jsx)("img",{src:a||u,alt:"ava"})}),(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("p",{className:j,children:t}),(0,N.jsx)("p",{className:h,children:c})]})]})},D="DialogItem_dialog_item__xRhS+",C="DialogItem_dialog_reverce__57DKq",b="DialogItem_dialog_img__Oe5Nw",f="DialogItem_dialog_content__oUi7g",M="DialogItem_dialog_name__nZCPE",y="DialogItem_dialog_mess__4Vy+l",U=a.p+"static/media/9_2.8e3625bf7975dc5f8ae8.jpg";var T=a(4489);const P=s=>{let{mess:e,name:a,type:t}=s;return(0,N.jsxs)("div",{className:t?"".concat(D," ").concat(C):D,children:[(0,N.jsx)("div",{className:b,children:(0,N.jsx)("img",{src:t?T:U,alt:""})}),(0,N.jsxs)("div",{className:f,children:[(0,N.jsx)("p",{className:M,children:a}),(0,N.jsx)("p",{className:y,children:e})]})]})};var S=a(2891);const k=s=>{let{isActive:e,setUserId:a,onSubmit:t,curentRef:c,messagesPage:g,addDialog:x,...p}=s;const j=g.contacts&&g.contacts.map((s=>(0,N.jsx)(I,{isActive:e,setUserId:a,id:s.id,src:s.photos.small,name:s.userName},s.id))),h=g.dialogs&&g.dialogs.map((s=>{let e;return e=30535===s.senderId?(0,N.jsx)(P,{id:s.id,mess:s.body,name:s.name,type:"main"},s.id):(0,N.jsx)(P,{id:s.id,mess:s.body,name:s.name},s.id),e}));return(0,N.jsxs)("div",{className:i,children:[(0,N.jsxs)("div",{className:l,children:[(0,N.jsx)("div",{className:n,children:g.contacts&&0!==g.contacts.lengts?j:(0,N.jsx)("div",{className:o,children:(0,N.jsx)("p",{children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"})})}),(0,N.jsx)("div",{ref:c,className:_,children:g.dialogs&&0!==g.dialogs.length?h:(0,N.jsx)("div",{className:d})})]}),(0,N.jsxs)("div",{className:r,children:[(0,N.jsx)("div",{}),(0,N.jsx)("div",{className:m,children:(0,N.jsx)(S.Z,{addDialog:x,onSubmit:t})})]})]})};var A=a(4420),R=a(1548),F=a(1154);const w=t.memo((s=>{let[e,a]=(0,t.useState)(null),c=t.createRef();(0,t.useEffect)((()=>{let e=c.current;s.getDialogUsers(),e.scrollTop=e.scrollHeight}),[]);return(0,N.jsx)(k,{isActive:e,setUserId:e=>{s.putStartDialogToFriend(e),a(e)},curentRef:c,onSubmit:e=>{s.postMessageToUser(e.body)},...s})}));const E=(0,F.qC)((0,A.$j)((s=>({messagesPage:s.messagesPage})),{addDialog:c.IC,getDialogUsers:c.A4,postMessageToUser:c.PQ,getMessagesFromUser:c.zn,putStartDialogToFriend:c.FL}),R.D)(w)}}]);
//# sourceMappingURL=421.90570a53.chunk.js.map